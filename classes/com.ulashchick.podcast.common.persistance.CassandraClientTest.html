<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta http-equiv="x-ua-compatible" content="IE=edge"/>
<title>Test results - CassandraClientTest</title>
<link href="../css/base-style.css" rel="stylesheet" type="text/css"/>
<link href="../css/style.css" rel="stylesheet" type="text/css"/>
<script src="../js/report.js" type="text/javascript"></script>
</head>
<body>
<div id="content">
<h1>CassandraClientTest</h1>
<div class="breadcrumbs">
<a href="../index.html">all</a> &gt; 
<a href="../packages/com.ulashchick.podcast.common.persistance.html">com.ulashchick.podcast.common.persistance</a> &gt; CassandraClientTest</div>
<div id="summary">
<table>
<tr>
<td>
<div class="summaryGroup">
<table>
<tr>
<td>
<div class="infoBox" id="tests">
<div class="counter">3</div>
<p>tests</p>
</div>
</td>
<td>
<div class="infoBox" id="failures">
<div class="counter">0</div>
<p>failures</p>
</div>
</td>
<td>
<div class="infoBox" id="ignored">
<div class="counter">0</div>
<p>ignored</p>
</div>
</td>
<td>
<div class="infoBox" id="duration">
<div class="counter">34.858s</div>
<p>duration</p>
</div>
</td>
</tr>
</table>
</div>
</td>
<td>
<div class="infoBox success" id="successRate">
<div class="percent">100%</div>
<p>successful</p>
</div>
</td>
</tr>
</table>
</div>
<div id="tabs">
<ul class="tabLinks">
<li>
<a href="#tab0">Tests</a>
</li>
<li>
<a href="#tab1">Standard output</a>
</li>
</ul>
<div id="tab0" class="tab">
<h2>Tests</h2>
<table>
<thead>
<tr>
<th>Test</th>
<th>Duration</th>
<th>Result</th>
</tr>
</thead>
<tr>
<td class="success">checkUserUpsertionDoesNotChangeUUID()</td>
<td class="success">15.019s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">firstUserSignIn()</td>
<td class="success">9.606s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">testSubscription()</td>
<td class="success">10.233s</td>
<td class="success">passed</td>
</tr>
</table>
</div>
<div id="tab1" class="tab">
<h2>Standard output</h2>
<span class="code">
<pre>00:59:57.425 [ForkJoinPool-1-worker-3] INFO  com.datastax.oss.driver.api.core.uuid.Uuids - PID obtained through native call to getpid(): 1711
00:59:57.430 [ForkJoinPool-1-worker-3] INFO  com.ulashchick.podcast.testing.TestListener - &lt;&lt;&lt;--- Starting: checkUserUpsertionDoesNotChangeUUID() ---&gt;&gt;&gt;
00:59:57.434 [ForkJoinPool-1-worker-3] INFO  &#x1f433; [cassandra:latest] - Creating container for image: cassandra:latest
00:59:57.469 [ForkJoinPool-1-worker-3] INFO  &#x1f433; [cassandra:latest] - Container cassandra:latest is starting: 0b49e3468082962a3bbb2954004e0ead960eb13f27c87c8da52beb00daa1a537
00:59:58.187 [s1-admin-0] WARN  com.datastax.oss.driver.internal.core.pool.ChannelPool - [s1|localhost/127.0.0.1:49156]  Error while opening new channel (ConnectionInitException: [s1|connecting...] Protocol initialization request, step 1 (STARTUP {CQL_VERSION=3.0.0, DRIVER_NAME=DataStax Java driver for Apache Cassandra(R), DRIVER_VERSION=4.13.0, CLIENT_ID=46749113-442d-48ff-ba93-2584cadd0161}): failed to send request (io.netty.channel.StacklessClosedChannelException))
00:59:58.322 [s0-admin-0] WARN  com.datastax.oss.driver.internal.core.pool.ChannelPool - [s0|localhost/127.0.0.1:49156]  Error while opening new channel (ConnectionInitException: [s0|connecting...] Protocol initialization request, step 1 (STARTUP {CQL_VERSION=3.0.0, DRIVER_NAME=DataStax Java driver for Apache Cassandra(R), DRIVER_VERSION=4.13.0, CLIENT_ID=223b6dd0-372d-4fde-a763-895342dc4927}): failed to send request (io.netty.channel.StacklessClosedChannelException))
01:00:00.025 [s0-admin-0] WARN  com.datastax.oss.driver.internal.core.pool.ChannelPool - [s0|localhost/127.0.0.1:49156]  Error while opening new channel (ConnectionInitException: [s0|connecting...] Protocol initialization request, step 1 (STARTUP {CQL_VERSION=3.0.0, DRIVER_NAME=DataStax Java driver for Apache Cassandra(R), DRIVER_VERSION=4.13.0, CLIENT_ID=223b6dd0-372d-4fde-a763-895342dc4927}): failed to send request (io.netty.channel.StacklessClosedChannelException))
01:00:00.091 [s1-admin-0] WARN  com.datastax.oss.driver.internal.core.pool.ChannelPool - [s1|localhost/127.0.0.1:49156]  Error while opening new channel (ConnectionInitException: [s1|connecting...] Protocol initialization request, step 1 (STARTUP {CQL_VERSION=3.0.0, DRIVER_NAME=DataStax Java driver for Apache Cassandra(R), DRIVER_VERSION=4.13.0, CLIENT_ID=46749113-442d-48ff-ba93-2584cadd0161}): failed to send request (io.netty.channel.StacklessClosedChannelException))
01:00:04.216 [s1-admin-0] WARN  com.datastax.oss.driver.internal.core.pool.ChannelPool - [s1|localhost/127.0.0.1:49156]  Error while opening new channel (ConnectionInitException: [s1|connecting...] Protocol initialization request, step 1 (STARTUP {CQL_VERSION=3.0.0, DRIVER_NAME=DataStax Java driver for Apache Cassandra(R), DRIVER_VERSION=4.13.0, CLIENT_ID=46749113-442d-48ff-ba93-2584cadd0161}): failed to send request (io.netty.channel.StacklessClosedChannelException))
01:00:04.227 [s0-admin-0] WARN  com.datastax.oss.driver.internal.core.pool.ChannelPool - [s0|localhost/127.0.0.1:49156]  Error while opening new channel (ConnectionInitException: [s0|connecting...] Protocol initialization request, step 1 (STARTUP {CQL_VERSION=3.0.0, DRIVER_NAME=DataStax Java driver for Apache Cassandra(R), DRIVER_VERSION=4.13.0, CLIENT_ID=223b6dd0-372d-4fde-a763-895342dc4927}): failed to send request (io.netty.channel.StacklessClosedChannelException))
01:00:07.733 [ForkJoinPool-1-worker-3] INFO  &#x1f433; [cassandra:latest] - Container cassandra:latest started in PT10.300273S
01:00:07.753 [ForkJoinPool-1-worker-3] INFO  com.ulashchick.podcast.common.persistance.CassandraClient - Initializing cassandra session without keyspace
01:00:07.802 [s2-admin-0] INFO  com.datastax.oss.driver.internal.core.time.Clock - Using native clock for microsecond precision
01:00:08.346 [ForkJoinPool-1-worker-3] INFO  com.ulashchick.podcast.common.persistance.CassandraSession - Connected to Cassandra cluster [localhost/127.0.0.1:49157]
01:00:08.346 [ForkJoinPool-1-worker-3] INFO  com.ulashchick.podcast.common.persistance.CassandraClient - Installing schema
01:00:08.347 [ForkJoinPool-1-worker-3] INFO  org.reflections.Reflections - Reflections took 1 ms to scan 1 urls, producing 4 keys and 4 values
01:00:08.347 [ForkJoinPool-1-worker-3] INFO  com.ulashchick.podcast.common.config.ConfigService - Loading: test/cql-init/001-create-keyspace.cql
01:00:08.348 [ForkJoinPool-1-worker-3] INFO  com.ulashchick.podcast.common.config.ConfigService - Loading: test/cql-init/002-use-keyspace.cql
01:00:08.348 [ForkJoinPool-1-worker-3] INFO  com.ulashchick.podcast.common.config.ConfigService - Loading: test/cql-init/003-create-user-by-email-table.cql
01:00:08.348 [ForkJoinPool-1-worker-3] INFO  com.ulashchick.podcast.common.config.ConfigService - Loading: test/cql-init/004-create-subscriptions-by-user.cql
01:00:08.348 [ForkJoinPool-1-worker-3] INFO  com.ulashchick.podcast.common.persistance.CassandraClient - Executing: 
create keyspace if not exists podcast
    with replication = {'class' : 'SimpleStrategy', 'replication_factor' : 1 }
     and durable_writes = true;

01:00:09.485 [ForkJoinPool-1-worker-3] INFO  com.ulashchick.podcast.common.persistance.CassandraClient - Executing: 
use podcast;

01:00:09.490 [s2-io-3] WARN  com.datastax.oss.driver.internal.core.session.PoolManager - [s2] Detected a keyspace change at runtime (&lt;none&gt; =&gt; podcast). This is an anti-pattern that should be avoided in production (see 'advanced.request.warn-if-set-keyspace' in the configuration).
01:00:09.495 [ForkJoinPool-1-worker-3] INFO  com.ulashchick.podcast.common.persistance.CassandraClient - Executing: 
create table if not exists users_by_email
(
    email      varchar primary key,
    id         timeuuid,
    firstName  varchar,
    lastName   varchar,
    imageUrl   varchar
);

01:00:10.617 [ForkJoinPool-1-worker-3] INFO  com.ulashchick.podcast.common.persistance.CassandraClient - Executing: 
create table if not exists subscriptions_by_user
(
    userId timeuuid,
    feedId bigint,
    primary key ((userId), feedId)
);
01:00:11.723 [ForkJoinPool-1-worker-3] INFO  com.ulashchick.podcast.common.persistance.CassandraClient - Schema installed. Re-initializing cassandra session
01:00:11.723 [ForkJoinPool-1-worker-3] INFO  com.ulashchick.podcast.common.persistance.CassandraSession - Re-initializing session.
01:00:11.758 [s3-admin-0] INFO  com.datastax.oss.driver.internal.core.time.Clock - Using native clock for microsecond precision
01:00:11.848 [ForkJoinPool-1-worker-3] INFO  com.ulashchick.podcast.common.persistance.CassandraSession - Connected to Cassandra cluster [localhost/127.0.0.1:49157]
01:00:11.897 [ForkJoinPool-1-worker-3] INFO  com.ulashchick.podcast.common.persistance.CassandraClient - Executing INSERT INTO users_by_email (email,id) VALUES ('test@test.com',4d5ceee0-87b1-11ec-adc8-b770b423d7c3) IF NOT EXISTS with CL LOCAL_QUORUM/LOCAL_SERIAL
01:00:12.003 [pool-8-thread-1] INFO  com.ulashchick.podcast.common.persistance.CassandraClient - Executing UPDATE users_by_email SET firstname='FIRST_NAME', lastname='LAST_NAME', imageurl='https://test.com' WHERE email='test@test.com' with CL LOCAL_QUORUM/LOCAL_SERIAL
01:00:12.052 [pool-8-thread-2] INFO  com.ulashchick.podcast.common.persistance.CassandraClient - Executing SELECT id FROM users_by_email WHERE email='test@test.com' with CL LOCAL_QUORUM/LOCAL_SERIAL
01:00:12.114 [ForkJoinPool-1-worker-3] INFO  com.ulashchick.podcast.common.persistance.CassandraClient - Executing SELECT email,firstname,lastname,imageurl FROM users_by_email WHERE email='test@test.com' with CL LOCAL_QUORUM/LOCAL_SERIAL
01:00:12.124 [ForkJoinPool-1-worker-3] INFO  com.ulashchick.podcast.common.persistance.CassandraClient - Executing INSERT INTO users_by_email (email,id) VALUES ('test@test.com',4d8621c0-87b1-11ec-adc8-b770b423d7c3) IF NOT EXISTS with CL LOCAL_QUORUM/LOCAL_SERIAL
01:00:12.138 [pool-8-thread-2] INFO  com.ulashchick.podcast.common.persistance.CassandraClient - Executing UPDATE users_by_email SET firstname='FIRST_NAME', lastname='TEST', imageurl='https://test.com' WHERE email='test@test.com' with CL LOCAL_QUORUM/LOCAL_SERIAL
01:00:12.145 [pool-8-thread-2] INFO  com.ulashchick.podcast.common.persistance.CassandraClient - Executing SELECT id FROM users_by_email WHERE email='test@test.com' with CL LOCAL_QUORUM/LOCAL_SERIAL
01:00:12.150 [ForkJoinPool-1-worker-3] INFO  com.ulashchick.podcast.common.persistance.CassandraClient - Executing SELECT email,firstname,lastname,imageurl FROM users_by_email WHERE email='test@test.com' with CL LOCAL_QUORUM/LOCAL_SERIAL
01:00:12.155 [ForkJoinPool-1-worker-3] INFO  com.ulashchick.podcast.common.persistance.CassandraClient - Executing SELECT id FROM users_by_email WHERE email='test@test.com' with CL LOCAL_QUORUM/LOCAL_SERIAL
01:00:12.448 [ForkJoinPool-1-worker-3] INFO  com.ulashchick.podcast.testing.TestListener - &lt;&lt;&lt;--- Finishing: checkUserUpsertionDoesNotChangeUUID() ---&gt;&gt;&gt;
01:00:12.450 [ForkJoinPool-1-worker-3] INFO  com.ulashchick.podcast.testing.TestListener - &lt;&lt;&lt;--- Starting: testSubscription() ---&gt;&gt;&gt;
01:00:12.455 [ForkJoinPool-1-worker-3] INFO  &#x1f433; [cassandra:latest] - Creating container for image: cassandra:latest
01:00:12.486 [ForkJoinPool-1-worker-3] INFO  &#x1f433; [cassandra:latest] - Container cassandra:latest is starting: 3f423afbd60362fb3a28719a566286b0dd920d1dfbdddb0014fc54c5b5272595
01:00:12.666 [s1-admin-0] WARN  com.datastax.oss.driver.internal.core.pool.ChannelPool - [s1|localhost/127.0.0.1:49156]  Error while opening new channel (ConnectionInitException: [s1|connecting...] Protocol initialization request, step 1 (STARTUP {CQL_VERSION=3.0.0, DRIVER_NAME=DataStax Java driver for Apache Cassandra(R), DRIVER_VERSION=4.13.0, CLIENT_ID=46749113-442d-48ff-ba93-2584cadd0161}): failed to send request (io.netty.channel.StacklessClosedChannelException))
01:00:13.193 [s3-admin-0] WARN  com.datastax.oss.driver.internal.core.pool.ChannelPool - [s3|localhost/127.0.0.1:49157]  Error while opening new channel (ConnectionInitException: [s3|connecting...] Protocol initialization request, step 1 (STARTUP {CQL_VERSION=3.0.0, DRIVER_NAME=DataStax Java driver for Apache Cassandra(R), DRIVER_VERSION=4.13.0, CLIENT_ID=47b15c96-6e5f-4ef3-a076-edfecfb50f4d}): failed to send request (io.netty.channel.StacklessClosedChannelException))
01:00:13.215 [s2-admin-0] WARN  com.datastax.oss.driver.internal.core.pool.ChannelPool - [s2|localhost/127.0.0.1:49157]  Error while opening new channel (ConnectionInitException: [s2|connecting...] Protocol initialization request, step 1 (STARTUP {CQL_VERSION=3.0.0, DRIVER_NAME=DataStax Java driver for Apache Cassandra(R), DRIVER_VERSION=4.13.0, CLIENT_ID=5224340f-7662-46d3-86e0-4698930122d2}): failed to send request (io.netty.channel.StacklessClosedChannelException))
01:00:13.455 [s0-admin-0] WARN  com.datastax.oss.driver.internal.core.pool.ChannelPool - [s0|localhost/127.0.0.1:49156]  Error while opening new channel (ConnectionInitException: [s0|connecting...] Protocol initialization request, step 1 (STARTUP {CQL_VERSION=3.0.0, DRIVER_NAME=DataStax Java driver for Apache Cassandra(R), DRIVER_VERSION=4.13.0, CLIENT_ID=223b6dd0-372d-4fde-a763-895342dc4927}): failed to send request (io.netty.channel.StacklessClosedChannelException))
01:00:15.075 [s3-admin-0] WARN  com.datastax.oss.driver.internal.core.pool.ChannelPool - [s3|localhost/127.0.0.1:49157]  Error while opening new channel (ConnectionInitException: [s3|connecting...] Protocol initialization request, step 1 (STARTUP {CQL_VERSION=3.0.0, DRIVER_NAME=DataStax Java driver for Apache Cassandra(R), DRIVER_VERSION=4.13.0, CLIENT_ID=47b15c96-6e5f-4ef3-a076-edfecfb50f4d}): failed to send request (io.netty.channel.StacklessClosedChannelException))
01:00:15.237 [s2-admin-0] WARN  com.datastax.oss.driver.internal.core.pool.ChannelPool - [s2|localhost/127.0.0.1:49157]  Error while opening new channel (ConnectionInitException: [s2|connecting...] Protocol initialization request, step 1 (STARTUP {CQL_VERSION=3.0.0, DRIVER_NAME=DataStax Java driver for Apache Cassandra(R), DRIVER_VERSION=4.13.0, CLIENT_ID=5224340f-7662-46d3-86e0-4698930122d2}): failed to send request (io.netty.channel.StacklessClosedChannelException))
01:00:18.499 [ForkJoinPool-1-worker-3] INFO  &#x1f433; [cassandra:latest] - Container cassandra:latest started in PT6.044537S
01:00:18.513 [ForkJoinPool-1-worker-3] INFO  com.ulashchick.podcast.common.persistance.CassandraClient - Initializing cassandra session without keyspace
01:00:18.536 [ForkJoinPool-1-worker-3] WARN  com.datastax.oss.driver.internal.core.session.DefaultSession - You have too many session instances: 5 active, expected less than 4 (see 'advanced.session-leak.threshold' in the configuration)
01:00:18.556 [s4-admin-0] INFO  com.datastax.oss.driver.internal.core.time.Clock - Using native clock for microsecond precision
01:00:18.599 [s3-admin-0] WARN  com.datastax.oss.driver.internal.core.pool.ChannelPool - [s3|localhost/127.0.0.1:49157]  Error while opening new channel (ConnectionInitException: [s3|connecting...] Protocol initialization request, step 1 (STARTUP {CQL_VERSION=3.0.0, DRIVER_NAME=DataStax Java driver for Apache Cassandra(R), DRIVER_VERSION=4.13.0, CLIENT_ID=47b15c96-6e5f-4ef3-a076-edfecfb50f4d}): failed to send request (io.netty.channel.StacklessClosedChannelException))
01:00:18.823 [ForkJoinPool-1-worker-3] INFO  com.ulashchick.podcast.common.persistance.CassandraSession - Connected to Cassandra cluster [localhost/127.0.0.1:49159]
01:00:18.823 [ForkJoinPool-1-worker-3] INFO  com.ulashchick.podcast.common.persistance.CassandraClient - Installing schema
01:00:18.824 [ForkJoinPool-1-worker-3] INFO  org.reflections.Reflections - Reflections took 0 ms to scan 1 urls, producing 4 keys and 4 values
01:00:18.824 [ForkJoinPool-1-worker-3] INFO  com.ulashchick.podcast.common.config.ConfigService - Loading: test/cql-init/001-create-keyspace.cql
01:00:18.825 [ForkJoinPool-1-worker-3] INFO  com.ulashchick.podcast.common.config.ConfigService - Loading: test/cql-init/002-use-keyspace.cql
01:00:18.825 [ForkJoinPool-1-worker-3] INFO  com.ulashchick.podcast.common.config.ConfigService - Loading: test/cql-init/003-create-user-by-email-table.cql
01:00:18.825 [ForkJoinPool-1-worker-3] INFO  com.ulashchick.podcast.common.config.ConfigService - Loading: test/cql-init/004-create-subscriptions-by-user.cql
01:00:18.825 [ForkJoinPool-1-worker-3] INFO  com.ulashchick.podcast.common.persistance.CassandraClient - Executing: 
create keyspace if not exists podcast
    with replication = {'class' : 'SimpleStrategy', 'replication_factor' : 1 }
     and durable_writes = true;

01:00:19.400 [s2-admin-0] WARN  com.datastax.oss.driver.internal.core.pool.ChannelPool - [s2|localhost/127.0.0.1:49157]  Error while opening new channel (ConnectionInitException: [s2|connecting...] Protocol initialization request, step 1 (STARTUP {CQL_VERSION=3.0.0, DRIVER_NAME=DataStax Java driver for Apache Cassandra(R), DRIVER_VERSION=4.13.0, CLIENT_ID=5224340f-7662-46d3-86e0-4698930122d2}): failed to send request (io.netty.channel.StacklessClosedChannelException))
01:00:19.951 [ForkJoinPool-1-worker-3] INFO  com.ulashchick.podcast.common.persistance.CassandraClient - Executing: 
use podcast;

01:00:19.954 [s4-io-3] WARN  com.datastax.oss.driver.internal.core.session.PoolManager - [s4] Detected a keyspace change at runtime (&lt;none&gt; =&gt; podcast). This is an anti-pattern that should be avoided in production (see 'advanced.request.warn-if-set-keyspace' in the configuration).
01:00:19.959 [ForkJoinPool-1-worker-3] INFO  com.ulashchick.podcast.common.persistance.CassandraClient - Executing: 
create table if not exists users_by_email
(
    email      varchar primary key,
    id         timeuuid,
    firstName  varchar,
    lastName   varchar,
    imageUrl   varchar
);

01:00:21.079 [ForkJoinPool-1-worker-3] INFO  com.ulashchick.podcast.common.persistance.CassandraClient - Executing: 
create table if not exists subscriptions_by_user
(
    userId timeuuid,
    feedId bigint,
    primary key ((userId), feedId)
);
01:00:22.180 [ForkJoinPool-1-worker-3] INFO  com.ulashchick.podcast.common.persistance.CassandraClient - Schema installed. Re-initializing cassandra session
01:00:22.181 [ForkJoinPool-1-worker-3] INFO  com.ulashchick.podcast.common.persistance.CassandraSession - Re-initializing session.
01:00:22.196 [ForkJoinPool-1-worker-3] WARN  com.datastax.oss.driver.internal.core.session.DefaultSession - You have too many session instances: 6 active, expected less than 4 (see 'advanced.session-leak.threshold' in the configuration)
01:00:22.216 [s5-admin-0] INFO  com.datastax.oss.driver.internal.core.time.Clock - Using native clock for microsecond precision
01:00:22.318 [ForkJoinPool-1-worker-3] INFO  com.ulashchick.podcast.common.persistance.CassandraSession - Connected to Cassandra cluster [localhost/127.0.0.1:49159]
01:00:22.318 [ForkJoinPool-1-worker-3] INFO  com.ulashchick.podcast.common.persistance.CassandraClient - Executing INSERT INTO subscriptions_by_user (userid,feedid) VALUES (44c2eff0-87b1-11ec-adc8-b770b423d7c3,1123) IF NOT EXISTS with CL LOCAL_QUORUM/LOCAL_SERIAL
01:00:22.373 [ForkJoinPool-1-worker-3] INFO  com.ulashchick.podcast.common.persistance.CassandraClient - Executing SELECT feedid FROM subscriptions_by_user WHERE userid=44c2eff0-87b1-11ec-adc8-b770b423d7c3 with CL LOCAL_QUORUM/LOCAL_SERIAL
01:00:22.427 [ForkJoinPool-1-worker-3] INFO  com.ulashchick.podcast.common.persistance.CassandraClient - Executing DELETE FROM subscriptions_by_user WHERE userid=44c2eff0-87b1-11ec-adc8-b770b423d7c3 AND feedid=1123 with CL LOCAL_QUORUM/LOCAL_SERIAL
01:00:22.447 [ForkJoinPool-1-worker-3] INFO  com.ulashchick.podcast.common.persistance.CassandraClient - Executing SELECT feedid FROM subscriptions_by_user WHERE userid=44c2eff0-87b1-11ec-adc8-b770b423d7c3 with CL LOCAL_QUORUM/LOCAL_SERIAL
01:00:22.684 [ForkJoinPool-1-worker-3] INFO  com.ulashchick.podcast.testing.TestListener - &lt;&lt;&lt;--- Finishing: testSubscription() ---&gt;&gt;&gt;
01:00:22.688 [ForkJoinPool-1-worker-3] INFO  com.ulashchick.podcast.testing.TestListener - &lt;&lt;&lt;--- Starting: firstUserSignIn() ---&gt;&gt;&gt;
01:00:22.692 [ForkJoinPool-1-worker-3] INFO  &#x1f433; [cassandra:latest] - Creating container for image: cassandra:latest
01:00:22.723 [ForkJoinPool-1-worker-3] INFO  &#x1f433; [cassandra:latest] - Container cassandra:latest is starting: 518be02e0863e9f70a43a418e9f3e6135b85338fdf16b30ec8fb8e1948f4643e
01:00:23.506 [s5-admin-0] WARN  com.datastax.oss.driver.internal.core.pool.ChannelPool - [s5|localhost/127.0.0.1:49159]  Error while opening new channel (ConnectionInitException: [s5|connecting...] Protocol initialization request, step 1 (STARTUP {CQL_VERSION=3.0.0, DRIVER_NAME=DataStax Java driver for Apache Cassandra(R), DRIVER_VERSION=4.13.0, CLIENT_ID=278e3329-afb1-468b-a517-2335dae405f8}): failed to send request (io.netty.channel.StacklessClosedChannelException))
01:00:23.647 [s4-admin-0] WARN  com.datastax.oss.driver.internal.core.pool.ChannelPool - [s4|localhost/127.0.0.1:49159]  Error while opening new channel (ConnectionInitException: [s4|connecting...] Protocol initialization request, step 1 (STARTUP {CQL_VERSION=3.0.0, DRIVER_NAME=DataStax Java driver for Apache Cassandra(R), DRIVER_VERSION=4.13.0, CLIENT_ID=da1cef68-fbab-4dee-910e-8effce225b2a}): failed to send request (io.netty.channel.StacklessClosedChannelException))
01:00:25.248 [s5-admin-0] WARN  com.datastax.oss.driver.internal.core.pool.ChannelPool - [s5|localhost/127.0.0.1:49159]  Error while opening new channel (ConnectionInitException: [s5|connecting...] Protocol initialization request, step 1 (STARTUP {CQL_VERSION=3.0.0, DRIVER_NAME=DataStax Java driver for Apache Cassandra(R), DRIVER_VERSION=4.13.0, CLIENT_ID=278e3329-afb1-468b-a517-2335dae405f8}): failed to send request (io.netty.channel.StacklessClosedChannelException))
01:00:25.629 [s4-admin-0] WARN  com.datastax.oss.driver.internal.core.pool.ChannelPool - [s4|localhost/127.0.0.1:49159]  Error while opening new channel (ConnectionInitException: [s4|connecting...] Protocol initialization request, step 1 (STARTUP {CQL_VERSION=3.0.0, DRIVER_NAME=DataStax Java driver for Apache Cassandra(R), DRIVER_VERSION=4.13.0, CLIENT_ID=da1cef68-fbab-4dee-910e-8effce225b2a}): failed to send request (io.netty.channel.StacklessClosedChannelException))
01:00:26.269 [s1-admin-0] WARN  com.datastax.oss.driver.internal.core.pool.ChannelPool - [s1|localhost/127.0.0.1:49156]  Error while opening new channel (ConnectionInitException: [s1|connecting...] Protocol initialization request, step 1 (STARTUP {CQL_VERSION=3.0.0, DRIVER_NAME=DataStax Java driver for Apache Cassandra(R), DRIVER_VERSION=4.13.0, CLIENT_ID=46749113-442d-48ff-ba93-2584cadd0161}): failed to send request (io.netty.channel.StacklessClosedChannelException))
01:00:27.481 [s3-admin-0] WARN  com.datastax.oss.driver.internal.core.pool.ChannelPool - [s3|localhost/127.0.0.1:49157]  Error while opening new channel (ConnectionInitException: [s3|connecting...] Protocol initialization request, step 1 (STARTUP {CQL_VERSION=3.0.0, DRIVER_NAME=DataStax Java driver for Apache Cassandra(R), DRIVER_VERSION=4.13.0, CLIENT_ID=47b15c96-6e5f-4ef3-a076-edfecfb50f4d}): failed to send request (io.netty.channel.StacklessClosedChannelException))
01:00:27.802 [s2-admin-0] WARN  com.datastax.oss.driver.internal.core.pool.ChannelPool - [s2|localhost/127.0.0.1:49157]  Error while opening new channel (ConnectionInitException: [s2|connecting...] Protocol initialization request, step 1 (STARTUP {CQL_VERSION=3.0.0, DRIVER_NAME=DataStax Java driver for Apache Cassandra(R), DRIVER_VERSION=4.13.0, CLIENT_ID=5224340f-7662-46d3-86e0-4698930122d2}): failed to send request (io.netty.channel.StacklessClosedChannelException))
01:00:28.066 [ForkJoinPool-1-worker-3] INFO  &#x1f433; [cassandra:latest] - Container cassandra:latest started in PT5.375252S
01:00:28.071 [ForkJoinPool-1-worker-3] INFO  com.ulashchick.podcast.common.persistance.CassandraClient - Initializing cassandra session without keyspace
01:00:28.080 [ForkJoinPool-1-worker-3] WARN  com.datastax.oss.driver.internal.core.session.DefaultSession - You have too many session instances: 7 active, expected less than 4 (see 'advanced.session-leak.threshold' in the configuration)
01:00:28.095 [s6-admin-0] INFO  com.datastax.oss.driver.internal.core.time.Clock - Using native clock for microsecond precision
01:00:28.421 [ForkJoinPool-1-worker-3] INFO  com.ulashchick.podcast.common.persistance.CassandraSession - Connected to Cassandra cluster [localhost/127.0.0.1:49160]
01:00:28.421 [ForkJoinPool-1-worker-3] INFO  com.ulashchick.podcast.common.persistance.CassandraClient - Installing schema
01:00:28.422 [ForkJoinPool-1-worker-3] INFO  org.reflections.Reflections - Reflections took 1 ms to scan 1 urls, producing 4 keys and 4 values
01:00:28.426 [ForkJoinPool-1-worker-3] INFO  com.ulashchick.podcast.common.config.ConfigService - Loading: test/cql-init/001-create-keyspace.cql
01:00:28.426 [ForkJoinPool-1-worker-3] INFO  com.ulashchick.podcast.common.config.ConfigService - Loading: test/cql-init/002-use-keyspace.cql
01:00:28.427 [ForkJoinPool-1-worker-3] INFO  com.ulashchick.podcast.common.config.ConfigService - Loading: test/cql-init/003-create-user-by-email-table.cql
01:00:28.435 [ForkJoinPool-1-worker-3] INFO  com.ulashchick.podcast.common.config.ConfigService - Loading: test/cql-init/004-create-subscriptions-by-user.cql
01:00:28.436 [ForkJoinPool-1-worker-3] INFO  com.ulashchick.podcast.common.persistance.CassandraClient - Executing: 
create keyspace if not exists podcast
    with replication = {'class' : 'SimpleStrategy', 'replication_factor' : 1 }
     and durable_writes = true;

01:00:28.977 [s0-admin-0] WARN  com.datastax.oss.driver.internal.core.pool.ChannelPool - [s0|localhost/127.0.0.1:49156]  Error while opening new channel (ConnectionInitException: [s0|connecting...] Protocol initialization request, step 1 (STARTUP {CQL_VERSION=3.0.0, DRIVER_NAME=DataStax Java driver for Apache Cassandra(R), DRIVER_VERSION=4.13.0, CLIENT_ID=223b6dd0-372d-4fde-a763-895342dc4927}): failed to send request (io.netty.channel.StacklessClosedChannelException))
01:00:29.170 [s5-admin-0] WARN  com.datastax.oss.driver.internal.core.pool.ChannelPool - [s5|localhost/127.0.0.1:49159]  Error while opening new channel (ConnectionInitException: [s5|connecting...] Protocol initialization request, step 1 (STARTUP {CQL_VERSION=3.0.0, DRIVER_NAME=DataStax Java driver for Apache Cassandra(R), DRIVER_VERSION=4.13.0, CLIENT_ID=278e3329-afb1-468b-a517-2335dae405f8}): failed to send request (io.netty.channel.StacklessClosedChannelException))
01:00:29.514 [ForkJoinPool-1-worker-3] INFO  com.ulashchick.podcast.common.persistance.CassandraClient - Executing: 
use podcast;

01:00:29.519 [s6-io-3] WARN  com.datastax.oss.driver.internal.core.session.PoolManager - [s6] Detected a keyspace change at runtime (&lt;none&gt; =&gt; podcast). This is an anti-pattern that should be avoided in production (see 'advanced.request.warn-if-set-keyspace' in the configuration).
01:00:29.521 [ForkJoinPool-1-worker-3] INFO  com.ulashchick.podcast.common.persistance.CassandraClient - Executing: 
create table if not exists users_by_email
(
    email      varchar primary key,
    id         timeuuid,
    firstName  varchar,
    lastName   varchar,
    imageUrl   varchar
);

01:00:30.231 [s4-admin-0] WARN  com.datastax.oss.driver.internal.core.pool.ChannelPool - [s4|localhost/127.0.0.1:49159]  Error while opening new channel (ConnectionInitException: [s4|connecting...] Protocol initialization request, step 1 (STARTUP {CQL_VERSION=3.0.0, DRIVER_NAME=DataStax Java driver for Apache Cassandra(R), DRIVER_VERSION=4.13.0, CLIENT_ID=da1cef68-fbab-4dee-910e-8effce225b2a}): failed to send request (io.netty.channel.StacklessClosedChannelException))
01:00:30.652 [ForkJoinPool-1-worker-3] INFO  com.ulashchick.podcast.common.persistance.CassandraClient - Executing: 
create table if not exists subscriptions_by_user
(
    userId timeuuid,
    feedId bigint,
    primary key ((userId), feedId)
);
01:00:31.776 [ForkJoinPool-1-worker-3] INFO  com.ulashchick.podcast.common.persistance.CassandraClient - Schema installed. Re-initializing cassandra session
01:00:31.777 [ForkJoinPool-1-worker-3] INFO  com.ulashchick.podcast.common.persistance.CassandraSession - Re-initializing session.
01:00:31.786 [ForkJoinPool-1-worker-3] WARN  com.datastax.oss.driver.internal.core.session.DefaultSession - You have too many session instances: 8 active, expected less than 4 (see 'advanced.session-leak.threshold' in the configuration)
01:00:31.790 [s7-admin-0] INFO  com.datastax.oss.driver.internal.core.time.Clock - Using native clock for microsecond precision
01:00:31.947 [ForkJoinPool-1-worker-3] INFO  com.ulashchick.podcast.common.persistance.CassandraSession - Connected to Cassandra cluster [localhost/127.0.0.1:49160]
01:00:31.947 [ForkJoinPool-1-worker-3] INFO  com.ulashchick.podcast.common.persistance.CassandraClient - Executing INSERT INTO users_by_email (email,id) VALUES ('test@test.com',5956e1b0-87b1-11ec-adc8-b770b423d7c3) IF NOT EXISTS with CL LOCAL_QUORUM/LOCAL_SERIAL
01:00:32.004 [pool-11-thread-1] INFO  com.ulashchick.podcast.common.persistance.CassandraClient - Executing UPDATE users_by_email SET firstname='FIRST_NAME', lastname='LAST_NAME', imageurl='https://test.com' WHERE email='test@test.com' with CL LOCAL_QUORUM/LOCAL_SERIAL
01:00:32.019 [pool-11-thread-2] INFO  com.ulashchick.podcast.common.persistance.CassandraClient - Executing SELECT id FROM users_by_email WHERE email='test@test.com' with CL LOCAL_QUORUM/LOCAL_SERIAL
01:00:32.028 [ForkJoinPool-1-worker-3] INFO  com.ulashchick.podcast.common.persistance.CassandraClient - Executing SELECT id FROM users_by_email WHERE email='test@test.com' with CL LOCAL_QUORUM/LOCAL_SERIAL
01:00:32.294 [ForkJoinPool-1-worker-3] INFO  com.ulashchick.podcast.testing.TestListener - &lt;&lt;&lt;--- Finishing: firstUserSignIn() ---&gt;&gt;&gt;
01:00:32.296 [ForkJoinPool-1-worker-3] INFO  com.ulashchick.podcast.testing.TestListener - &lt;&lt;&lt;--- Finishing: CassandraClientTest ---&gt;&gt;&gt;
</pre>
</span>
</div>
</div>
<div id="footer">
<p>
<div>
<label class="hidden" id="label-for-line-wrapping-toggle" for="line-wrapping-toggle">Wrap lines
<input id="line-wrapping-toggle" type="checkbox" autocomplete="off"/>
</label>
</div>Generated by 
<a href="http://www.gradle.org">Gradle 7.2</a> at Feb 7, 2022, 1:00:32 AM</p>
</div>
</div>
</body>
</html>
