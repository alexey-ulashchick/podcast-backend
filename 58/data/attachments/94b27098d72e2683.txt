22:25:22.555 [ForkJoinPool-1-worker-3] INFO  com.ulashchick.podcast.testing.TestListener - Test started
22:25:22.558 [ForkJoinPool-1-worker-3] INFO  üê≥ [cassandra:latest] - Creating container for image: cassandra:latest
22:25:22.591 [ForkJoinPool-1-worker-3] INFO  üê≥ [cassandra:latest] - Container cassandra:latest is starting: 8af74063caf81d22c4569a84c144a2b8e7b3430a3477ac1123adc6dc9322190b
22:25:27.904 [ForkJoinPool-1-worker-3] INFO  üê≥ [cassandra:latest] - Container cassandra:latest started in PT5.345636S
22:25:27.915 [ForkJoinPool-1-worker-3] INFO  com.ulashchick.podcast.common.persistance.CassandraClient - Initializing cassandra session without keyspace
22:25:27.924 [ForkJoinPool-1-worker-3] WARN  com.datastax.oss.driver.internal.core.session.DefaultSession - You have too many session instances: 7 active, expected less than 4 (see 'advanced.session-leak.threshold' in the configuration)
22:25:28.211 [ForkJoinPool-1-worker-3] INFO  com.ulashchick.podcast.common.persistance.CassandraSession - Connected to Cassandra cluster [localhost/127.0.0.1:49159]
22:25:28.211 [ForkJoinPool-1-worker-3] INFO  com.ulashchick.podcast.common.persistance.CassandraClient - Installing schema
22:25:28.212 [ForkJoinPool-1-worker-3] INFO  org.reflections.Reflections - Reflections took 0 ms to scan 1 urls, producing 4 keys and 4 values
22:25:28.212 [ForkJoinPool-1-worker-3] INFO  com.ulashchick.podcast.common.config.ConfigService - Loading: test/cql-init/001-create-keyspace.cql
22:25:28.213 [ForkJoinPool-1-worker-3] INFO  com.ulashchick.podcast.common.config.ConfigService - Loading: test/cql-init/002-use-keyspace.cql
22:25:28.213 [ForkJoinPool-1-worker-3] INFO  com.ulashchick.podcast.common.config.ConfigService - Loading: test/cql-init/003-create-user-by-email-table.cql
22:25:28.213 [ForkJoinPool-1-worker-3] INFO  com.ulashchick.podcast.common.config.ConfigService - Loading: test/cql-init/004-create-subscriptions-by-user.cql
22:25:28.213 [ForkJoinPool-1-worker-3] INFO  com.ulashchick.podcast.common.persistance.CassandraClient - Executing: 
create keyspace if not exists podcast
    with replication = {'class' : 'SimpleStrategy', 'replication_factor' : 1 }
     and durable_writes = true;

22:25:29.322 [ForkJoinPool-1-worker-3] INFO  com.ulashchick.podcast.common.persistance.CassandraClient - Executing: 
use podcast;

22:25:29.329 [ForkJoinPool-1-worker-3] INFO  com.ulashchick.podcast.common.persistance.CassandraClient - Executing: 
create table if not exists users_by_email
(
    email      varchar primary key,
    id         timeuuid,
    firstName  varchar,
    lastName   varchar,
    imageUrl   varchar
);

22:25:30.460 [ForkJoinPool-1-worker-3] INFO  com.ulashchick.podcast.common.persistance.CassandraClient - Executing: 
create table if not exists subscriptions_by_user
(
    userId timeuuid,
    feedId bigint,
    primary key ((userId), feedId)
);
22:25:31.631 [ForkJoinPool-1-worker-3] INFO  com.ulashchick.podcast.common.persistance.CassandraClient - Schema installed. Re-initializing cassandra session
22:25:31.631 [ForkJoinPool-1-worker-3] INFO  com.ulashchick.podcast.common.persistance.CassandraSession - Re-initializing session.
22:25:31.652 [ForkJoinPool-1-worker-3] WARN  com.datastax.oss.driver.internal.core.session.DefaultSession - You have too many session instances: 8 active, expected less than 4 (see 'advanced.session-leak.threshold' in the configuration)
22:25:31.798 [ForkJoinPool-1-worker-3] INFO  com.ulashchick.podcast.common.persistance.CassandraSession - Connected to Cassandra cluster [localhost/127.0.0.1:49159]
22:25:31.799 [ForkJoinPool-1-worker-3] INFO  com.ulashchick.podcast.common.persistance.CassandraClient - Executing INSERT INTO subscriptions_by_user (userid,feedid) VALUES (2eff2590-7747-11ed-a5fd-6f897b95a739,1123) IF NOT EXISTS with CL LOCAL_QUORUM/LOCAL_SERIAL
22:25:31.822 [ForkJoinPool-1-worker-3] INFO  com.ulashchick.podcast.common.persistance.CassandraClient - Executing SELECT feedid FROM subscriptions_by_user WHERE userid=2eff2590-7747-11ed-a5fd-6f897b95a739 with CL LOCAL_QUORUM/LOCAL_SERIAL
22:25:31.828 [ForkJoinPool-1-worker-3] INFO  com.ulashchick.podcast.common.persistance.CassandraClient - Executing DELETE FROM subscriptions_by_user WHERE userid=2eff2590-7747-11ed-a5fd-6f897b95a739 AND feedid=1123 with CL LOCAL_QUORUM/LOCAL_SERIAL
22:25:31.834 [ForkJoinPool-1-worker-3] INFO  com.ulashchick.podcast.common.persistance.CassandraClient - Executing SELECT feedid FROM subscriptions_by_user WHERE userid=2eff2590-7747-11ed-a5fd-6f897b95a739 with CL LOCAL_QUORUM/LOCAL_SERIAL
22:25:32.110 [ForkJoinPool-1-worker-3] INFO  com.ulashchick.podcast.testing.TestListener - Test finished: SUCCESSFUL
