02:17:41.084 [ForkJoinPool-1-worker-3] INFO  com.ulashchick.podcast.testing.TestListener - Test started
02:17:41.106 [ForkJoinPool-1-worker-3] INFO  üê≥ [cassandra:latest] - Creating container for image: cassandra:latest
02:17:41.209 [ForkJoinPool-1-worker-3] INFO  üê≥ [cassandra:latest] - Container cassandra:latest is starting: 6c0c472653efcdf6e8446182f3a7c4c5b4d37dd23cc796c1f206c3ea4d33f4b3
02:17:55.835 [ForkJoinPool-1-worker-3] INFO  üê≥ [cassandra:latest] - Container cassandra:latest started in PT14.746014S
02:17:55.897 [ForkJoinPool-1-worker-3] INFO  org.reflections.Reflections - Reflections took 28 ms to scan 2 urls, producing 7 keys and 13 values
02:17:55.899 [ForkJoinPool-1-worker-3] INFO  com.ulashchick.podcast.common.ApplicationServerBuilder - Binding GrpcService: com.ulashchick.podcast.grpc.AuthService
02:17:55.912 [ForkJoinPool-1-worker-3] INFO  com.ulashchick.podcast.common.ApplicationServerBuilder - Binding GrpcService: com.ulashchick.podcast.grpc.PodcastService
02:17:55.915 [ForkJoinPool-1-worker-3] INFO  com.ulashchick.podcast.common.ApplicationServerBuilder - Binding GrpcService: com.ulashchick.podcast.grpc.EchoService
02:17:55.946 [ForkJoinPool-1-worker-3] INFO  org.reflections.Reflections - Reflections took 29 ms to scan 2 urls, producing 7 keys and 60 values
02:17:55.952 [ForkJoinPool-1-worker-3] INFO  com.ulashchick.podcast.common.ApplicationServerBuilder - Environment: test
02:17:55.952 [ForkJoinPool-1-worker-3] INFO  com.ulashchick.podcast.common.persistance.CassandraClient - Initializing cassandra session without keyspace
02:17:56.720 [ForkJoinPool-1-worker-3] INFO  com.ulashchick.podcast.common.persistance.CassandraSession - Connected to Cassandra cluster [localhost/127.0.0.1:49157]
02:17:56.721 [ForkJoinPool-1-worker-3] INFO  com.ulashchick.podcast.common.persistance.CassandraClient - Installing schema
02:17:56.722 [ForkJoinPool-1-worker-3] INFO  org.reflections.Reflections - Reflections took 1 ms to scan 1 urls, producing 4 keys and 4 values
02:17:56.723 [ForkJoinPool-1-worker-3] INFO  com.ulashchick.podcast.common.config.ConfigService - Loading: test/cql-init/001-create-keyspace.cql
02:17:56.731 [ForkJoinPool-1-worker-3] INFO  com.ulashchick.podcast.common.config.ConfigService - Loading: test/cql-init/002-use-keyspace.cql
02:17:56.732 [ForkJoinPool-1-worker-3] INFO  com.ulashchick.podcast.common.config.ConfigService - Loading: test/cql-init/003-create-user-by-email-table.cql
02:17:56.736 [ForkJoinPool-1-worker-3] INFO  com.ulashchick.podcast.common.config.ConfigService - Loading: test/cql-init/004-create-subscriptions-by-user.cql
02:17:56.737 [ForkJoinPool-1-worker-3] INFO  com.ulashchick.podcast.common.persistance.CassandraClient - Executing: 
create keyspace if not exists podcast
    with replication = {'class' : 'SimpleStrategy', 'replication_factor' : 1 }
     and durable_writes = true;

02:17:57.959 [ForkJoinPool-1-worker-3] INFO  com.ulashchick.podcast.common.persistance.CassandraClient - Executing: 
use podcast;

02:17:57.976 [ForkJoinPool-1-worker-3] INFO  com.ulashchick.podcast.common.persistance.CassandraClient - Executing: 
create table if not exists users_by_email
(
    email      varchar primary key,
    id         timeuuid,
    firstName  varchar,
    lastName   varchar,
    imageUrl   varchar
);

02:17:59.267 [ForkJoinPool-1-worker-3] INFO  com.ulashchick.podcast.common.persistance.CassandraClient - Executing: 
create table if not exists subscriptions_by_user
(
    userId timeuuid,
    feedId bigint,
    primary key ((userId), feedId)
);
02:18:00.450 [ForkJoinPool-1-worker-3] INFO  com.ulashchick.podcast.common.persistance.CassandraClient - Schema installed. Re-initializing cassandra session
02:18:00.450 [ForkJoinPool-1-worker-3] INFO  com.ulashchick.podcast.common.persistance.CassandraSession - Re-initializing session.
02:18:00.637 [ForkJoinPool-1-worker-3] INFO  com.ulashchick.podcast.common.persistance.CassandraSession - Connected to Cassandra cluster [localhost/127.0.0.1:49157]
02:18:00.678 [pool-6-thread-1] ERROR com.ulashchick.podcast.auth.AuthInterceptor - Cannot authenticate user
com.auth0.jwt.exceptions.JWTVerificationException: Authorization token is missing
	at com.ulashchick.podcast.auth.AuthInterceptor.lambda$getAuthorizationHeader$0(AuthInterceptor.java:91) ~[main/:?]
	at java.util.Optional.orElseThrow(Optional.java:408) ~[?:?]
	at com.ulashchick.podcast.auth.AuthInterceptor.getAuthorizationHeader(AuthInterceptor.java:91) ~[main/:?]
	at com.ulashchick.podcast.auth.AuthInterceptor.interceptCall(AuthInterceptor.java:61) ~[main/:?]
	at io.grpc.ServerInterceptors$InterceptCallHandler.startCall(ServerInterceptors.java:244) ~[grpc-api-1.44.0.jar:1.44.0]
	at io.grpc.internal.ServerImpl$ServerTransportListenerImpl.startWrappedCall(ServerImpl.java:703) ~[grpc-core-1.44.0.jar:1.44.0]
	at io.grpc.internal.ServerImpl$ServerTransportListenerImpl.access$2200(ServerImpl.java:406) ~[grpc-core-1.44.0.jar:1.44.0]
	at io.grpc.internal.ServerImpl$ServerTransportListenerImpl$1HandleServerCall.runInternal(ServerImpl.java:615) ~[grpc-core-1.44.0.jar:1.44.0]
	at io.grpc.internal.ServerImpl$ServerTransportListenerImpl$1HandleServerCall.runInContext(ServerImpl.java:603) ~[grpc-core-1.44.0.jar:1.44.0]
	at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37) ~[grpc-core-1.44.0.jar:1.44.0]
	at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133) ~[grpc-core-1.44.0.jar:1.44.0]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[?:?]
	at com.ulashchick.podcast.ContextCopyingThreadFactory.lambda$copyContextToRunnable$0(ContextCopyingThreadFactory.java:27) ~[main/:?]
	at java.lang.Thread.run(Thread.java:829) [?:?]
02:18:01.031 [ForkJoinPool-1-worker-3] INFO  com.ulashchick.podcast.testing.TestListener - Test finished: SUCCESSFUL
